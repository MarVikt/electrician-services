(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function c(s){let a=(s-o)/l;a>1&&(a=1);let r=e(a);t(r),a<1&&requestAnimationFrame(c)}))},t=t=>{const l=document.getElementById(t),o=document.querySelector(".modal-overlay"),c=e=>{if(e.target.closest(".modal-overlay")||e.target.closest(".modal-close"))l.style.display="none",o.style.display="none",document.body.style.overflow="auto",document.body.removeEventListener("click",c);else if(e.target.matches('input[type="submit"]')){const o=l.querySelectorAll("input,textarea"),c={};e.preventDefault(),o.forEach((e=>{null!==e.getAttribute("name")&&(c[e.getAttribute("name")]=e.value)})),(e=>{let t=!0,l="",o="",c="";for(let t in e)/fio/gi.test(t)&&(l=e[t]),/tel/gi.test(t)&&(o=e[t]),/message/gi.test(t)&&(c=e[t]);return(/[^а-я\s]+/gi.test(l)||""==l.replace(/[\s]/g,""))&&(alert("введите имя кириллицей, можно использовать пробел"),t=!1),(/[^\d\+]+/gi.test(o)||""==o.replace(/[\s]/g,""))&&(alert("введите телефон цифрами, можно использовать плюс"),t=!1),""!==c&&/[^а-я\d\s\-\.\,\!\?\:\;\(\)\"]+/gi.test(c)&&(alert("введите сообщение кириллицей, можно использовать цифры, пробел и знаки препинания"),t=!1),t})(c)&&(((e,t)=>{const l=document.getElementById(e);try{if(!l)throw new Error(`Форма ${e} отсутствует на странице`);let c=document.getElementById(`status-${e}`);c||(c=document.createElement("h3"),c.id=`status-${e}`,l.append(c)),c.textContent="Отправка...",(o=t,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()}))).then((e=>{var t;c.textContent="Спасибо! Наш менеджер свяжется с Вами!",t=c,new Promise(((e,l)=>{setTimeout((()=>{t&&t.remove()}),5e3)}))})).catch((e=>{console.log(e.message),c.textContent="Ошибка отправки"}))}catch(e){console.log(e.message)}var o})(t,c),o.forEach((e=>{null!==e.getAttribute("name")&&(e.value="")})))}};l.classList.contains("modal-callback")||(l.classList.add("modal-callback"),l.insertAdjacentHTML("afterbegin",'\n    <div class="modal-close">\n\t\t\t<img src="images/close_icon_green.svg" alt="modal-close">\n\t\t</div>\n    ')),"feedback"===t&&(l.style.top="5%"),l.style.display="block",o.style.display="block",document.body.style.overflow="hidden",e({duration:500,timing:e=>Math.pow(e,2),draw(e){l.style.opacity=e}}),document.body.addEventListener("click",c)};document.querySelector(".header").addEventListener("click",(e=>{if(e.target.closest(".top-menu")){if(e.target.matches("a")){e.preventDefault();const t=e.target.getAttribute("href").substr(1),l=document.querySelector(".header-wrapper");window.scrollTo({top:document.getElementById(t).offsetTop-(l?l.offsetHeight:100),behavior:"smooth"})}}else e.target.closest(".callback-btn")&&t("callback")})),(()=>{const e=document.querySelector(".services-carousel"),t=document.querySelectorAll(".col-md-4"),l=document.querySelector(".services-arrow .arrow-left"),o=document.querySelector(".services-arrow .arrow-right");let c=300,s=0;t.forEach((e=>{e.style.display="inline",c=e.clientWidth})),e.style.widht="2000px",e.style.display="inline-block",l.addEventListener("click",(()=>{s+=3*c,s=Math.min(s,0),e.style.marginLeft=s+"px"})),o.addEventListener("click",(()=>{s-=3*c,s=Math.max(s,-c*(t.length-3)),e.style.marginLeft=s+"px"}))})(),document.querySelector(".button-services").addEventListener("click",(e=>{e.preventDefault(),t("feedback")})),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=e.querySelectorAll(".table");let o,c=e.querySelector(".slick-dots"),s=e.querySelectorAll(".dot"),a=0;const r=(e,t,l)=>{e[t].classList.remove(l)},n=(e,t,l)=>{e[t].classList.add(l)},i=()=>{r(t,a,"top-slide-active"),r(l,a,"active"),r(s,a,"slick-active"),a++,a>=t.length&&(a=0),n(t,a,"top-slide-active"),n(l,a,"active"),n(s,a,"slick-active")},d=()=>{o=setInterval(i,15e3)};e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearInterval(o)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&d()}),!0),e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(r(t,a,"top-slide-active"),r(l,a,"active"),r(s,a,"slick-active"),e.target.matches(".dot")&&s.forEach(((t,l)=>{t===e.target&&(a=l)})),n(t,a,"top-slide-active"),n(l,a,"active"),n(s,a,"slick-active"))})),c||e.insertAdjacentHTML("beforeend",'<ul class="slick-dots"></ul>'),c=e.querySelector(".slick-dots"),t.forEach(((e,t)=>{const l=document.createElement("li");l.classList.add("dot"),l.style.zIndex="20",0===t&&l.classList.add("slick-active"),c.append(l)})),s=e.querySelectorAll(".dot"),d()})(),(()=>{const t=document.querySelector("img.up");let l=!1;t.style.opacity=0,t.style.cursor="default",window.screen.availWidth>991&&(window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>600?l||(t.style.cursor="pointer",e({duration:500,timing:e=>Math.pow(e,2),draw(e){t.style.opacity=e}}),l=!0):l&&(e({duration:500,timing:e=>Math.pow(e,2),draw(e){t.style.opacity=1-e}}),t.style.cursor="default",l=!1)})),t.addEventListener("click",(()=>{if(l){const t=document.documentElement.scrollTop;e({duration:1e3,timing:e=>e,draw(e){document.documentElement.scrollTop=(1-e)*t}})}})))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element");e.addEventListener("click",(e=>{e.target.matches(".title")&&t.forEach((t=>{let l=t.querySelector(".element-content");e.target.parentElement===t?t.classList.toggle("active"):t.classList.remove("active"),t.classList.contains("active")?l.style.display="block":l.style.display="none"}))}))})()})();