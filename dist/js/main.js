(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let l=performance.now();requestAnimationFrame((function s(c){let a=(c-l)/o;a>1&&(a=1);let r=e(a);t(r),a<1&&requestAnimationFrame(s)}))},t=t=>{const o=document.getElementById(t),l=document.querySelector(".modal-overlay"),s=e=>{if(e.target.closest(".modal-overlay")||e.target.closest(".modal-close"))o.style.display="none",l.style.display="none",document.body.style.overflow="auto",document.body.removeEventListener("click",s);else if(e.target.matches('input[type="submit"]')){const l=o.querySelectorAll("input,textarea"),s={};e.preventDefault(),l.forEach((e=>{null!==e.getAttribute("name")&&(s[e.getAttribute("name")]=e.value)})),(e=>{let t=!0,o="",l="",s="";for(let t in e)/fio/gi.test(t)&&(o=e[t]),/tel/gi.test(t)&&(l=e[t]),/message/gi.test(t)&&(s=e[t]);return(/[^а-я\s]+/gi.test(o)||""==o.replace(/[\s]/g,""))&&(alert("введите имя кириллицей, можно использовать пробел"),t=!1),(/[^\d\+]+/gi.test(l)||""==l.replace(/[\s]/g,""))&&(alert("введите телефон цифрами, можно использовать плюс"),t=!1),""!==s&&/[^а-я\d\s\-\.\,\!\?\:\;\(\)\"]+/gi.test(s)&&(alert("введите сообщение кириллицей, можно использовать цифры, пробел и знаки препинания"),t=!1),t})(s)&&(((e,t)=>{const o=document.getElementById(e);try{if(!o)throw new Error(`Форма ${e} отсутствует на странице`);let s=document.getElementById(`status-${e}`);s||(s=document.createElement("h3"),s.id=`status-${e}`,o.append(s)),s.textContent="Отправка...",(l=t,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()}))).then((e=>{var t;s.textContent="Спасибо! Наш менеджер свяжется с Вами!",t=s,new Promise(((e,o)=>{setTimeout((()=>{t&&t.remove()}),5e3)}))})).catch((e=>{console.log(e.message),s.textContent="Ошибка отправки"}))}catch(e){console.log(e.message)}var l})(t,s),l.forEach((e=>{null!==e.getAttribute("name")&&(e.value="")})))}};o.classList.contains("modal-callback")||(o.classList.add("modal-callback"),o.insertAdjacentHTML("afterbegin",'\n    <div class="modal-close">\n\t\t\t<img src="images/close_icon_green.svg" alt="modal-close">\n\t\t</div>\n    ')),"feedback"===t&&(o.style.top="5%"),o.style.display="block",l.style.display="block",document.body.style.overflow="hidden",e({duration:500,timing:e=>Math.pow(e,2),draw(e){o.style.opacity=e}}),document.body.addEventListener("click",s)};document.querySelector(".header").addEventListener("click",(e=>{if(e.target.closest(".top-menu")){if(e.target.matches("a")){e.preventDefault();const t=e.target.getAttribute("href").substr(1),o=document.querySelector(".header-wrapper");window.scrollTo({top:document.getElementById(t).offsetTop-(o?o.offsetHeight:100),behavior:"smooth"})}}else e.target.closest(".callback-btn")&&t("callback")})),(()=>{const e=document.querySelector(".services-carousel"),t=document.querySelectorAll(".col-md-4"),o=document.querySelector(".services-arrow"),l=e.offsetTop,s=e.offsetLeft;let c=300,a=e.offsetWidth,r=s,n=0;t.forEach(((t,o)=>{c=t.offsetWidth,0===o&&(e.style.height=`${t.offsetHeight}px`),t.offsetTop>l&&(t.style.top=l-t.offsetTop+"px",t.style.left=r+c-s+"px"),r=t.offsetLeft})),o.style.width=`${a}px`,o.addEventListener("click",(e=>{e.target.matches(".arrow-left")?(n+=3*c,n=Math.min(n,0),t.forEach((e=>{e.style.left=`${n}px`}))):e.target.matches(".arrow-right")&&(n-=3*c,n=Math.max(n,-c*(t.length-3)),t.forEach((e=>{e.style.left=n+"px"})))}))})(),document.querySelector(".button-services").addEventListener("click",(e=>{e.preventDefault(),t("feedback")})),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),o=e.querySelectorAll(".table");let l,s=e.querySelector(".slick-dots"),c=e.querySelectorAll(".dot"),a=0;const r=(e,t,o)=>{e[t].classList.remove(o)},n=(e,t,o)=>{e[t].classList.add(o)},i=()=>{r(t,a,"top-slide-active"),r(o,a,"active"),r(c,a,"slick-active"),a++,a>=t.length&&(a=0),n(t,a,"top-slide-active"),n(o,a,"active"),n(c,a,"slick-active")},d=()=>{l=setInterval(i,15e3)};e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearInterval(l)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&d()}),!0),e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(r(t,a,"top-slide-active"),r(o,a,"active"),r(c,a,"slick-active"),e.target.matches(".dot")&&c.forEach(((t,o)=>{t===e.target&&(a=o)})),n(t,a,"top-slide-active"),n(o,a,"active"),n(c,a,"slick-active"))})),s||e.insertAdjacentHTML("beforeend",'<ul class="slick-dots"></ul>'),s=e.querySelector(".slick-dots"),t.forEach(((e,t)=>{const o=document.createElement("li");o.classList.add("dot"),o.style.zIndex="20",0===t&&o.classList.add("slick-active"),s.append(o)})),c=e.querySelectorAll(".dot"),d()})(),(()=>{const t=document.querySelector("img.up");let o=!1;t.style.opacity=0,t.style.cursor="default",window.screen.availWidth>991&&(window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>600?o||(t.style.cursor="pointer",e({duration:500,timing:e=>Math.pow(e,2),draw(e){t.style.opacity=e}}),o=!0):o&&(e({duration:500,timing:e=>Math.pow(e,2),draw(e){t.style.opacity=1-e}}),t.style.cursor="default",o=!1)})),t.addEventListener("click",(()=>{if(o){const t=document.documentElement.scrollTop;e({duration:1e3,timing:e=>e,draw(e){document.documentElement.scrollTop=(1-e)*t}})}})))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element");e.addEventListener("click",(e=>{e.target.matches(".title")&&t.forEach((t=>{let o=t.querySelector(".element-content");e.target.parentElement===t?t.classList.toggle("active"):t.classList.remove("active"),t.classList.contains("active")?o.style.display="block":o.style.display="none"}))}))})()})();